[gd_scene load_steps=19 format=3]

[ext_resource type="Script" uid="uid://dce8vy3ot0ahs" path="res://script/intro.gd" id="1_rmwb1"]
[ext_resource type="Texture2D" uid="uid://dkj7i0ii6rtj" path="res://sprite/ChatGPT Image Aug 5, 2025, 12_00_41 PM.png" id="2_3r4v7"]
[ext_resource type="Texture2D" uid="uid://cc2fedlo17wfd" path="res://sprite/mountine.png" id="3_k8lhw"]
[ext_resource type="Texture2D" uid="uid://c5egelvxadvuq" path="res://sprite/flag_w.png" id="4_yvyvw"]
[ext_resource type="Texture2D" uid="uid://bku67pxc2en3e" path="res://sprite/iran_flag.png" id="5_d6qqo"]
[ext_resource type="Script" uid="uid://bl0i7bys2p2mu" path="res://GodotWigglyAppendage2D-be8bd9e0e69538c5f69e2de81c121363f041be90/addons/wiggly_appendage_2d/wiggly_appendage_2d.gd" id="6_eq420"]
[ext_resource type="Texture2D" uid="uid://btx3sovl6jne3" path="res://sprite/2چراغ کپسولی قدیمی و چندوجهی.png" id="7_rb17a"]
[ext_resource type="Texture2D" uid="uid://dmr7u4w0iiyvn" path="res://sprite/Sunshine-Transparent-Images.png" id="8_avbhl"]
[ext_resource type="Texture2D" uid="uid://cqwxry1nj3nky" path="res://sprite/titre.png" id="9_18ln2"]

[sub_resource type="Shader" id="Shader_adqxb"]
code = "shader_type canvas_item;
uniform sampler2D tex:repeat_enable;
uniform float brigth :hint_range(0.0, 1.0, 0.01)= 0.8;
uniform float scale : hint_range(0.01, 10.0, 0.01) = 1.0;
void vertex() {

}

void fragment() {
	vec2 uv = UV / scale;
    uv = fract(uv); // wrap into 0-1 range
    uv = 1.0 - abs(1.0 - 2.0 * uv); // mirror repeat
	COLOR = texture(tex, uv);
	COLOR.rgb *= vec3(brigth);

}

//void light() {
//	// Called for every pixel for every light affecting the CanvasItem.
//	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_masab"]
shader = SubResource("Shader_adqxb")
shader_parameter/tex = ExtResource("2_3r4v7")
shader_parameter/brigth = 0.77
shader_parameter/scale = 2.13

[sub_resource type="Curve" id="Curve_272cy"]
_data = [Vector2(0, 0.404494), 0.0, 0.0, 0, 0, Vector2(0.488372, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Animation" id="Animation_n6p8m"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WigglyAppendage2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_37iue"]
resource_name = "rot"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WigglyAppendage2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.37, 0.69, 0.86),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.0523599, 0.0, 0.0174533]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_m3r7s"]
_data = {
&"RESET": SubResource("Animation_n6p8m"),
&"rot": SubResource("Animation_37iue")
}

[sub_resource type="Animation" id="Animation_xwriy"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PointLight2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PointLight2D:texture_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [5.0]
}

[sub_resource type="Animation" id="Animation_m3r7s"]
resource_name = "light"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PointLight2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 6.28319]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PointLight2D:texture_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 0.64, 0.87),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [5.0, 8.0, 5.0, 6.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_u5myo"]
_data = {
&"RESET": SubResource("Animation_xwriy"),
&"light": SubResource("Animation_m3r7s")
}

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_rmwb1")
metadata/_edit_lock_ = true

[node name="TextureRect" type="TextureRect" parent="."]
light_mask = 3
material = SubResource("ShaderMaterial_masab")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_3r4v7")
expand_mode = 1
stretch_mode = 1
metadata/_edit_lock_ = true

[node name="TextureRect3" type="TextureRect" parent="."]
clip_children = 2
layout_mode = 1
anchors_preset = -1
anchor_left = 0.495
anchor_top = 0.198
anchor_right = 0.495
anchor_bottom = 0.198
offset_left = -422.0
offset_top = -378.0
offset_right = 422.0
offset_bottom = 378.0
texture = ExtResource("3_k8lhw")
expand_mode = 1
stretch_mode = 5
metadata/_edit_use_anchors_ = true

[node name="CPUParticles2D" type="CPUParticles2D" parent="TextureRect3"]
position = Vector2(409, 145)
emission_shape = 2
emission_sphere_radius = 128.0
gravity = Vector2(0, 0)
angular_velocity_min = -720.0
angular_velocity_max = 720.0
scale_amount_max = 8.0
scale_amount_curve = SubResource("Curve_272cy")

[node name="FlagW" type="Sprite2D" parent="TextureRect3"]
position = Vector2(399, 197)
rotation = 0.156275
texture = ExtResource("4_yvyvw")

[node name="WigglyAppendage2D" type="Line2D" parent="TextureRect3"]
position = Vector2(384, 135)
points = PackedVector2Array(0, 0, 5.84487, -0.242123, 11.3893, -0.483999, 16.6332, -0.72563, 21.5767, -0.967014, 26.2196, -1.20815, 30.5622, -1.44905, 34.6042, -1.68969, 38.3458, -1.93009, 41.7869, -2.17025, 44.9275, -2.41016, 47.9173, -2.65583, 50.906, -2.91326, 53.8934, -3.18246, 56.8797, -3.46343, 59.8648, -3.75617, 62.8487, -4.06067, 65.8315, -4.37694, 68.813, -4.70498, 71.7934, -5.04478, 74.7726, -5.39635, 77.7504, -5.75988, 80.7265, -6.13557, 83.7008, -6.5234, 86.6735, -6.92338, 89.6444, -7.33552, 92.6136, -7.75981, 95.5811, -8.19624, 98.5469, -8.64483, 101.511, -9.10557, 104.473, -9.57847, 107.434, -10.0643, 110.391, -10.5637, 113.347, -11.0768, 116.299, -11.6035, 119.249, -12.1439, 122.197, -12.6979, 125.142, -13.2655, 128.084, -13.8468, 131.024, -14.4418, 133.962, -15.0504, 136.897, -15.6711, 139.83, -16.3024, 142.76, -16.9442, 145.687, -17.5967, 148.613, -18.2598, 151.536, -18.9334, 154.456, -19.6177, 157.374, -20.3125, 160.29, -21.0179, 163.203, -21.7339, 166.114, -22.4605, 169.021, -23.1975, 171.926, -23.945, 174.829, -24.7031, 177.728, -25.4716)
width = 150.0
texture = ExtResource("5_d6qqo")
texture_mode = 2
script = ExtResource("6_eq420")
segment_count = 6
curvature = -0.04
comeback_speed = 2.575
stiffness = 25.0
stiffness_decay = 1.0
damping = 10.0
max_angular_momentum = 5.0
subdivision = 10
metadata/_custom_type_script = "uid://bl0i7bys2p2mu"

[node name="AnimationPlayer" type="AnimationPlayer" parent="TextureRect3"]
libraries = {
&"": SubResource("AnimationLibrary_m3r7s")
}
autoplay = "rot"

[node name="TextureRect2" type="TextureRect" parent="."]
light_mask = 3
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.551
anchor_right = 0.5
anchor_bottom = 0.551
offset_left = -472.0
offset_top = -828.0
offset_right = 465.0
offset_bottom = 665.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("7_rb17a")
expand_mode = 1
stretch_mode = 5

[node name="PointLight2D" type="PointLight2D" parent="TextureRect2"]
position = Vector2(464, 772)
range_item_cull_mask = 2
texture = ExtResource("8_avbhl")
offset = Vector2(6, 10)
texture_scale = 5.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="TextureRect2"]
libraries = {
&"": SubResource("AnimationLibrary_u5myo")
}
autoplay = "light"
speed_scale = 0.05

[node name="TextureRect4" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.83
anchor_right = 0.5
anchor_bottom = 0.83
offset_left = -337.0
offset_top = -334.0
offset_right = 369.0
offset_bottom = 336.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_18ln2")
expand_mode = 1
stretch_mode = 5
